<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>GeoLog</title>
  <meta name="description" content="Share your tracks">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="scripts/lib/axios/dist/axios.standalone.js"></script>
  <script src="scripts/lib/CryptoJS/rollups/hmac-sha256.js"></script>
  <script src="scripts/lib/CryptoJS/rollups/sha256.js"></script>
  <script src="scripts/lib/CryptoJS/components/hmac.js"></script>
  <script src="scripts/lib/CryptoJS/components/enc-base64.js"></script>
  <script src="scripts/lib/url-template/url-template.js"></script>
  <script src="scripts/lib/apiGatewayCore/sigV4Client.js"></script>
  <script src="scripts/lib/apiGatewayCore/apiGatewayClient.js"></script>
  <script src="scripts/lib/apiGatewayCore/simpleHttpClient.js"></script>
  <script src="scripts/lib/apiGatewayCore/utils.js"></script>
  <script src="scripts/apigClient.js"></script>
  <script src="scripts/aws-sdk.min.js"></script>
  <script>
    // Identity pool already configured to use roles
    var creds = new AWS.CognitoIdentityCredentials({
      IdentityPoolId: 'eu-west-1:fdeb8cdc-38e2-4963-9578-5a4f03efdfed'
    })

    AWS.config.update({
      region: 'eu-west-1',
      credentials: creds
    });

    // var cognitoidentity = new AWS.CognitoIdentity();

    creds.get(function() {
      console.log(creds);

      var apigClient = apigClientFactory.newClient({
        accessKey: creds.accessKeyId,
        secretKey: creds.secretAccessKey,
        sessionToken: creds.sessionToken, //OPTIONAL: If you are using temporary credentials you must include the session token
        region: 'eu-west-1'
      }); 
      apigClient.jobsIdGet({id:1}).then(function(result) {

      });
    });
  </script>
</head>
<body>
  <p>GeoLog</p>
</body>
</html>
